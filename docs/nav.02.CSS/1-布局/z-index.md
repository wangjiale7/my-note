## 彻底搞懂 CSS 层叠上下文、层叠等级、层叠顺序、z-index

### 什么是“层叠上下文”

> 具象的比喻：你可以把层叠上下文元素理解为理解为该元素当了官，而其他非层叠上下文元素则可以理解为普通群众。凡是“当了官的元素”就比普通元素等级要高，也就是说元素在 Z 轴上更靠上，更靠近观察者。

### 什么是“层叠等级”

- 在`同一个层叠上下文中`，它描述定义的是该层叠上下文中的层叠上下文元素在 Z 轴上的上下顺序。
- 在其他普通元素中，它描述定义的是这些普通元素在 Z 轴上的上下顺序。

> 具象的比喻：我们之前说到，处于层叠上下文中的元素，就像是元素当了官，等级自然比普通元素高。再想象一下，假设一个官员 A 是个省级领导，他下属有一个秘书 a-1，家里有一个保姆 a-2。另一个官员 B 是一个县级领导，他下属有一个秘书 b-1，家里有一个保姆 b-2。a-1 和 b-1 虽然都是秘书，但是你想一个省级领导的秘书和一个县级领导的秘书之间有可比性么？甚至保姆 a-2 都要比秘书 b-1 的等级高得多。谁大谁小，谁高谁低一目了然，所以根本没有比较的意义。只有在 A 下属的 a-1、a-2 以及 B 下属的 b-1、b-2 中相互比较大小高低才有意义。

### 如何产生“层叠上下文”

1. HTML 中的根元素<html></html>本身 j 就具有层叠上下文，称为“根层叠上下文”。
2. 普通元素设置 position 属性为非 static 值 `并`设置 z-index 属性为具体数值(auto 不行)，产生层叠上下文。
3. CSS3 中的新属性也可以产生层叠上下文。

### 什么是“层叠顺序”

由此可见，前面所说的“层叠上下文”和“层叠等级”是一种概念，而这里的“层叠顺序”是一种规则。

<img src='1658910c5cb364b6_tplv-t2oaga2asx-zoom-in-crop-mark_4536_0_0_0.awebp'>

### 参考链接

[彻底搞懂 CSS 层叠上下文、层叠等级、层叠顺序、z-index](https://juejin.cn/post/6844903667175260174#heading-5)

[深入理解 CSS 中的层叠上下文和层叠顺序](https://www.zhangxinxu.com/wordpress/2016/01/understand-css-stacking-context-order-z-index/comment-page-1/?shrink=1#comments)
